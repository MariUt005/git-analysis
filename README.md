# Анализ Git репозиториев

Состав команды: Арикова Кристина Георгиевна, Гусарова Александра Павловна, Утенкова Мария Александровна

Капитан команды: Утенкова Мария Александровна

Руководитель: [i2z1](https://github.com/i2z1)

## Презентация проекта

Обзор проекта от идеи до реализации представлен [здесь](https://github.com/MariUt005/git-analysis/tree/master/presentation) 

## Как запустить?

### Требования:

1. [R версии 4.0 и выше](https://www.r-project.org/)
2. [Git](https://git-scm.com/) (проект тестировался на версии git 2.48 для Windows)
3. [RStudio](https://posit.co/download/rstudio-desktop/) (по желанию)

### Установка пакетов

Для корректной работы ПО необходимо установить [пакеты](), для чего можете выполнить команду:

```
install.packages(c(
  "shiny", "shinydashboard", "DT", "dplyr", "plotly", "tidyr", 
  "ggplot2", "RColorBrewer", "treemap", "glue", "httr2", "DBI", 
  "duckdb", "stringr", "markdown", "shinyjs", "networkD3", 
  "zoo", "igraph", "lubridate"
))
```

### Запуск

Для запуска проекта вы можете выбрать любой удобный способ:
- Запуск через консоль R:
```
shiny::runApp('git-analysisProject.R')
```
- Запуск через RStudio:
  1. Откройте репозиторий в RStudio
  2. Откройте файл `git-analysisProject.R`
  3. Нажмите на кнопку `Run App` в правом верхнем углу панели с кодом
     
     ![image](https://github.com/user-attachments/assets/6abaa0d5-5da4-40c4-a6cb-08f310982848)

### Используемые пакеты

**Основные UI-библиотеки:**

1. `shiny` - базовый фреймворк для создания веб-приложений на R
2. `shinydashboard` - создание панелей управления с боковым меню и вкладками
3. `shinyjs` - дополнительные JavaScript-эффекты и анимации

**Работа с данными:**

4. `dplyr` - манипуляции с данными (arrange, select, filter, mutate, summarize)
5. `tidyr` - преобразование структуры данных
6. `glue` - интерполяция строк и шаблонизация
7. `stringr` - обработка строковых данных

**Визуализация:**

8. `ggplot2` - построение статических графиков
9. `plotly` - создание интерактивных графиков
10. `RColorBrewer` - цветовые палитры для визуализаций
11. `treemap` - древовидные карты для иерархических данных
12. `networkD3` - интерактивные сетевые графики (коллаборации)

**Работа с БД:**

13. `DBI` - универсальный интерфейс работы с базами данных
14. `duckdb` - встраиваемая колоночная СУБД для хранения данных

**Вспомогательные инструменты:**

15. `DT` - интерактивные таблицы DataTables
16. `httr2` - HTTP-запросы (проверка URL, работа с API GitHub)
17. `tools` - работа с файловыми путями и расширениями
18. `markdown` - обработка Markdown-контента

**Анализ временных данных:**

19. `zoo` - скользящие средние для анализа временных рядов
20. `lubridate` - обработка дат и времени

**Сетевой анализ:**

21. `igraph` - анализ графов (выявление связей между разработчиками)

## Как работать?

После запуска программы вас встречает следующий интерфейс:

![image](https://github.com/user-attachments/assets/d664b17e-df9e-4365-8fc1-fedb972f0a52)

Слева представлены навигационные ссылки по разделам:
- Репозитории: добавление новых репозиториев в базу данных, просмотр и анализ добавленных репозиториев, удаление репозиториев из базы
- Авторы: просмотр и анализ авторов, которые работали над добавленными репозиториями
- Организация: сводная информация о графике работы над добавленными проектами, топ лучших разработчиков,  сеть взаимодействия разработчиков
- Рекомендации: подбор команды для проекта
- О программе: краткая информация и инструкция по работе с проектом

### Добавление репозитория в базу данных

Возможны три способа добавления репозитория в базу данных. Для добавления репозитория нужно необходимые данные подставить в соответствующие поля формы на вкладке "Репозитории", предварительно выбрав режим добавления. 

Если выбрано добавление удаленного репозитория или добавление всех репозиториев пользователя, выбранные репозитории будут склонированы в указанную пользователем директорию. 

- Добавление локального репозитория:
  - путь к директории, в которой располагается git-репозиторий
    
![image](https://github.com/user-attachments/assets/c9966a6e-a94f-46fb-ad08-6e29dad0420c)

- Добавление удаленного репозитория:
  - URL удаленного репозитория представляет собой ссылку для клонирования репозитория с удаленного хостинга
  - путь к директории, в которую будет склонирован git-репозиторий
    
![image](https://github.com/user-attachments/assets/47872efc-1fb3-4a24-ae61-a0752c6474ab)

- Добавление всех репозиториев пользователя:
  - Имя пользователя на сайте github.com
  - путь к директории, в которую будут склонированы git-репозитории
    
![image](https://github.com/user-attachments/assets/aa46f647-2c6b-4797-a34c-23285b744655)

### Удаление репозитория из базы данных

Для удаления репозитория необходимо выбрать его в списке, кликнув по нему ЛКМ. Выбранная строка станет синей. 

После этого необходимо нажать на кнопку "Удалить". Появится всплывающее окно для подтверждения удаления репозиториЯ из базы данных. 

Если вы уверены, что хотите удалить репозиторий, нажмите на кнопку "Удалить", иначе нажмите на кнопку "Отмена"

![image](https://github.com/user-attachments/assets/114ee12c-e011-4ea1-a06b-5c49bed2dc93)


При удалении репозитория из базы данных происходит удаление информации о нем, но директория с репозиторием остается нетронутой.

При необходимости пользователь может удалить локальный репозиторий стандартными средствами операционной системы. 

Путь, по которому располагается репозиторий, указан в таблице со всеми добавленными репозиториями на вкладке "Репозитории".
Поэтому рекомендуется при удалении репозитория из базы данных скопировать этот путь, чтобы без проблем найти и удалить репозиторий с диска.

### Анализ репозитория

Для анализа репозитория необходимо выбрать его в списке, кликнув по нему ЛКМ. Выбранная строка станет синей.

После этого необходимо нажать на кнопку "Анализировать".

Появится всплывающее окно. В левой части представлены фильтры:
- Авторы - участники команды, работающей над проектом
- Период - даты с-по для уточнения временного интервала анализа. По умолчанию выбран весь доступный период.
  
![image](https://github.com/user-attachments/assets/303897c7-a14b-44b8-9051-b697df6052cb)

Пользователю доступны следующие графики для анализа:
- Вклад участников
  
![image](https://github.com/user-attachments/assets/71a7d334-c92b-4ab0-8172-e9808b73434b)

- Типы изменений
  
![image](https://github.com/user-attachments/assets/03305a0c-0f83-43f3-acaa-c79dd5febaa2)

- История участия

![image](https://github.com/user-attachments/assets/492e0d1c-d64d-431b-be75-6ecaaa8404b7)

- Коммиты в файлах
  
![image](https://github.com/user-attachments/assets/9bcb9468-d7ce-4763-be46-d80f98bfd75a)

Для закрытия этого окна нужно нажать на кнопку "Dismiss" или кликнуть на затемненной области за пределами всплывающего окна в рамках интерфейса программы.

### Анализ автора

Список всех авторов, работавших над добавленными в базу данных репозиториях, представлен на вкладе "Авторы".

Для анализа автора необходимо выбрать его нажатием ЛКМ, соответствующая строка станет синей.

Далее необходимо нажать на кнопку "Анализировать". 

Появится всплывающее окно.

![image](https://github.com/user-attachments/assets/62792fe7-7713-4a6d-a012-332c261880ba)

В левой части окна доступен фильтр по исследуемому периоду (даты с-по для уточнения временного интервала анализа). По умолчанию выбран весь доступный период.

Также в левой части окна представлена статистика:
- Количество репозиториев, над которыми работал автор
- Количество коммитов автора
- Среднее количество коммитов автора в день
- Наиболее часто используемое слово в описании коммита
- Наиболее продуктивный день по коммитам

Пользователю доступны следующие крафики для анализа:
- Использование языков программирования
  
![image](https://github.com/user-attachments/assets/7cc63ac0-8265-4543-a7d8-1cfcaffc3885)

- Анализ репозиториев по количеству файлов
  
![image](https://github.com/user-attachments/assets/b2ab370d-a78b-4a2a-ab65-8b7e2573ac46)

- Тепловая карта
  
![image](https://github.com/user-attachments/assets/292551fd-039b-4bca-b6ff-c4a8c133b8c7)

- Коммиты в репозиториях
  
![image](https://github.com/user-attachments/assets/8c64999b-7ba0-445f-b780-ffdd390652c5)

- Активные часы

![image](https://github.com/user-attachments/assets/afad02d5-ef44-4d56-b3b8-bc7d94b3aef6)
